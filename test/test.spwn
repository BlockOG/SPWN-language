extract obj_props

fizz = ?g
buzz = ?g
fizzbuzz = ?g
c = counter(1)

// display
pos = [60, 45]
c.display(pos[0], pos[1] + 30)

"fizz".to_obj()
    .with(X, pos[0])
    .with(Y, pos[1])
    .with(GROUPS, fizz)
    .add()
"buzz".to_obj()
    .with(X, pos[0])
    .with(Y, pos[1])
    .with(GROUPS, buzz)
    .add()
"fizzbuzz".to_obj()
    .with(X, pos[0])
    .with(Y, pos[1])
    .with(GROUPS, fizzbuzz)
    .add()

enable = (g) {
    for thing in [fizz, buzz, fizzbuzz] {
        if g == thing {
            thing.toggle_on()
        } else {
            thing.toggle_off()
        }
    }
}
// the actual thing
while_loop(() => true, delay = 0.2, () {
    c++

    switch [c % 3 == 0, c % 5 == 0] {
        case [true, true]: enable(fizzbuzz),
        case [true, false]: enable(fizz),
        case [false, true]: enable(buzz),
        else: enable(0g),
    }
})